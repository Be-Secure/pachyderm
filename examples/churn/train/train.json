{
    "pipeline": {
        "name": "train"
    },
    "description": "A pipeline that trains a basic model to predict churn.",
    "transform": {
        "image": "pachyderm/churn_train",
        "cmd": ["python", "/train.py"]
    },
    "input": {
        "pfs": {
            "repo": "churn_ingress",
            "glob": "/*"
        }
    },
    "resource_limits": {
        "memory": "256MB",
        "cpu": 1
    },
    "resource_requests": {
        "memory": "256MB",
        "cpu": 1
    },
    "egress": {
        "sql_database": {
            "url": "snowflake://albertpachyderm@CDKSVXM-PN23804/CHURN_DEMO/PUBLIC?warehouse=COMPUTE_WH",
            "file_format": {
                "type": "CSV"
            },
            "secret": {
                "k8s_secret": "snowflakesecret",
                "key": "PACHYDERM_SQL_PASSWORD"
            }
        }
    }
}
